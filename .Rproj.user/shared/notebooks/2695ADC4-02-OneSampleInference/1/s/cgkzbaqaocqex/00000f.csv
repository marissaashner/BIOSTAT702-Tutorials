"0","# define function "
"0","sim_func_proptest <- function(numsims){"
"0","  counter = 0"
"0","  # run the number of times as the user specifies"
"0","  for(i in 1:numsims){"
"0","    # set seed for reproducibility"
"0","    set.seed(i*1093)"
"0","    "
"0","    # simulate data "
"0","    n = 100"
"0","    X = rbinom(n, size = 1, p = 0.2)"
"0","    "
"0","    # run t-test and grab p-value"
"0","    pval = prop.test(x = sum(X), n = n, p = 0.15,"
"0","                     alternative = ""two.sided"")$p.value"
"0","    "
"0","    # if effect is detected, save this iteration"
"0","    counter = ifelse(pval < 0.05, counter + 1, counter)"
"0","  }"
"0","  power = counter / numsims"
"0","  return(power)"
"0","}"
"0",""
"0","# run function for 1000 iterations"
"0","sim_func_proptest(1000)"
"1","[1]"
"1"," 0.259"
"1","
"
